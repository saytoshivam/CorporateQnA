<div class="search-form-container">
  <form class="h-100 w-100 search-form" [formGroup]="searchForm">
    <div class="categories form-input">
      <label for="">Categories</label>
      <div class="search-bar">
        <fa-icon [icon]="faSearch"></fa-icon>
        <input type="text" name="" id="" placeholder="Search" formControlName="search"/>
      </div>
    </div>
    <div class="show-category">
      <label for="" class="fnt-wt-600">Show</label>
      <ng-select formControlName="show" [clearable]="false" [searchable]="false">
        <ng-option [value]="0"> All</ng-option>
      </ng-select>
    </div>
    <div class="d-flex align-items-end justify-content-between w-100">
      <button class="reset-btn btn" (click)="resetForm()">
        <fa-icon [icon]="faRedo"></fa-icon>Reset
      </button>
      <button class="btn btn-add"  (click)="openModal(template)">
        <fa-icon [icon]="faPlus"></fa-icon>
        Category
      </button>
    </div>
  </form>
</div>
<div class="categories-content p-20">
  <div class="standard-grid m-4">
    <div class="categories" *ngFor="let categoryDetail of showCategories">
      <div class="category-card">
        <div class="d-flex justify-content-between">
          <h5 class="font-weight-bold">{{ categoryDetail.name }}</h5>
          <span>({{ categoryDetail.totalTags }})</span>
        </div>
        <p class="text-muted fnt-14 mt-2">
          {{ categoryDetail.description }}
        </p>
        <div class="category-stats mt-4">
          <span class="text-muted fnt-12"
            >Tagged {{ categoryDetail.tagsThisWeek }} this week,
            {{ categoryDetail.tagsThisMonth }} this month</span
          >
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal  -->
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Add Category</h4>
    <button type="button" class="close modal-close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span class="span-1"></span>
      <span class="span-2"></span>
    </button>
  </div>
  <div class="modal-body p-20">
    <form [formGroup]="newCategoryForm">
      <div class="form-input modal-form-input">
        <label for="" class="text-light-brown">Category Name</label>
        <div class="input-bar">
          <input type="text" name="" id="" placeholder="Enter category name"  formControlName="categoryName"/>
        </div>
      </div>
      <div class="mt-3 form-input">
        <label for="" class="text-light-brown">Description</label>
        <textarea placeholder="Enter your text here" class="text-area" cols="59" rows="3" formControlName="categoryDescription"></textarea>
      </div>
    </form>
    <div class="d-flex justify-content-end mt-4">
      <button class="btn btn-cancel mr-2"(click)="modalRef.hide()">Cancel</button>
      <button class="btn btn-post" (click)="createCategory()">Save</button>
    </div>
  </div>
</ng-template> 